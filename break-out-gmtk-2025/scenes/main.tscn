[gd_scene load_steps=16 format=4 uid="uid://dvbj7kv70ktsx"]

[ext_resource type="PackedScene" uid="uid://b4lqy1wocwihd" path="res://scenes/player.tscn" id="1_0wfyh"]
[ext_resource type="Script" uid="uid://cispy4a8qugm4" path="res://scripts/main.gd" id="1_sugp2"]
[ext_resource type="Texture2D" uid="uid://c56nw20lakw6k" path="res://prototype/sprites/floor.png" id="2_sugp2"]
[ext_resource type="Texture2D" uid="uid://dvmjklihbgts7" path="res://prototype/sprites/Cubicle.png" id="2_tipki"]
[ext_resource type="PackedScene" uid="uid://de3pecwpkw22v" path="res://scenes/cubicle.tscn" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://7m807y4v7w4p" path="res://scenes/exit_trigger.tscn" id="5_tbgi4"]
[ext_resource type="PackedScene" uid="uid://skqv1g1kawty" path="res://scenes/surveillance_camera.tscn" id="6_tefeu"]
[ext_resource type="Shader" uid="uid://c32c70g1y51ji" path="res://assets/shaders/grayscale.gdshader" id="7_o6xl0"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_tipki"]
texture = ExtResource("2_tipki")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, 20.8855, 32, 20.8855, 3.38684, -20.8855, 2.82237, -20.8855, 32, -32, 32)

[sub_resource type="TileSet" id="TileSet_85g3d"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
sources/1 = SubResource("TileSetAtlasSource_tipki")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tipki"]
size = Vector2(1990.46, 18.15)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_85g3d"]
size = Vector2(40.6218, 1137.4)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_choun"]
size = Vector2(1943.07, 25.41)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ya4ey"]
size = Vector2(108.325, 1103.52)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tipki"]
shader = ExtResource("7_o6xl0")

[node name="Main" type="Node2D"]
script = ExtResource("1_sugp2")

[node name="Cubicles" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAEAAQAAAAAAAGABAAIAAQAAAAAAAGABAAMAAQAAAAAAAGABAAQAAQAAAAAAAGABAAUAAQAAAAAAAGADAAEAAQAAAAAAAFADAAIAAQAAAAAAAFADAAMAAQAAAAAAAFAEAAMAAQAAAAAAAGAEAAIAAQAAAAAAAGAEAAEAAQAAAAAAAGAGAAEAAQAAAAAAAFAGAAIAAQAAAAAAAFAGAAMAAQAAAAAAAFAHAAMAAQAAAAAAAGAHAAIAAQAAAAAAAGAHAAEAAQAAAAAAAGADAAUAAQAAAAAAADAEAAUAAQAAAAAAADADAAYAAQAAAAAAAAAGAAUAAQAAAAAAADAHAAUAAQAAAAAAADAGAAYAAQAAAAAAAAAHAAYAAQAAAAAAAAABAAYAAQAAAAAAAGADAAgAAQAAAAAAADADAAkAAQAAAAAAAAAEAAkAAQAAAAAAAAAEAAgAAQAAAAAAADAGAAgAAQAAAAAAADAHAAgAAQAAAAAAADAGAAkAAQAAAAAAAAAHAAkAAQAAAAAAAAACAAgAAQAAAAAAADACAAkAAQAAAAAAAAAIAAgAAQAAAAAAAGAIAAkAAQAAAAAAAGAIAAoAAQAAAAAAAGAIAAsAAQAAAAAAAGAKAAgAAQAAAAAAAFAKAAkAAQAAAAAAAFAKAAoAAQAAAAAAAFAKAAsAAQAAAAAAAFALAAgAAQAAAAAAAGALAAkAAQAAAAAAAGALAAsAAQAAAAAAADAMAAsAAQAAAAAAADAKAA0AAQAAAAAAAFAIAA0AAQAAAAAAAGALAAcAAQAAAAAAADAKAAcAAQAAAAAAADANAAcAAQAAAAAAADAPAAcAAQAAAAAAADAQAAYAAQAAAAAAAFAQAAcAAQAAAAAAAGAQAAQAAQAAAAAAAFAQAAMAAQAAAAAAAFAJAAEAAQAAAAAAAAAKAAEAAQAAAAAAAAALAAEAAQAAAAAAAAAOAAEAAQAAAAAAAAAPAAEAAQAAAAAAAAAQAAEAAQAAAAAAAAAPAAsAAQAAAAAAADAQAAsAAQAAAAAAADARAAEAAQAAAAAAAAASAAEAAQAAAAAAAAARAAMAAQAAAAAAAGARAAQAAQAAAAAAAGARAAYAAQAAAAAAAGAQAAgAAQAAAAAAAAAPAAgAAQAAAAAAAAANAAgAAQAAAAAAAAAUAAMAAQAAAAAAAFAUAAQAAQAAAAAAAFAIAA4AAQAAAAAAAGAKAA4AAQAAAAAAAFADAAsAAQAAAAAAADAEAAsAAQAAAAAAADACAAsAAQAAAAAAADADAAwAAQAAAAAAAAACAAwAAQAAAAAAAAAEAAwAAQAAAAAAAAAGAAwAAQAAAAAAAFAGAAsAAQAAAAAAAFACAA4AAQAAAAAAADADAA4AAQAAAAAAADAEAA4AAQAAAAAAADACAA8AAQAAAAAAAAADAA8AAQAAAAAAAAAEAA8AAQAAAAAAAAAIAA8AAQAAAAAAAGAKAA8AAQAAAAAAAFA=")
tile_set = SubResource("TileSet_85g3d")

[node name="Floor" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(693.2, 546.125)
scale = Vector2(0.714889, 1)
texture = ExtResource("2_sugp2")

[node name="WallBoundaries" type="StaticBody2D" parent="Floor"]
visible = false

[node name="TopWall" type="CollisionShape2D" parent="Floor/WallBoundaries"]
position = Vector2(-5.58087, -527.05)
shape = SubResource("RectangleShape2D_tipki")

[node name="RightWall" type="CollisionShape2D" parent="Floor/WallBoundaries"]
position = Vector2(940.566, 13.2149)
shape = SubResource("RectangleShape2D_85g3d")

[node name="BottomWall" type="CollisionShape2D" parent="Floor/WallBoundaries"]
position = Vector2(6.26727, 531.7)
shape = SubResource("RectangleShape2D_choun")

[node name="LeftWall" type="CollisionShape2D" parent="Floor/WallBoundaries"]
position = Vector2(-943.264, 3.53491)
shape = SubResource("RectangleShape2D_ya4ey")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(288.49, 441.336)
limit_left = 25
limit_top = 15
limit_right = 1910
limit_bottom = 1075
limit_smoothed = true

[node name="Player" parent="." instance=ExtResource("1_0wfyh")]
z_index = 1
position = Vector2(288.49, 441.336)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Player"]
remote_path = NodePath("../../Camera2D")

[node name="PlayerCubicle" parent="." instance=ExtResource("4_jyhfs")]
position = Vector2(288.49, 416.928)

[node name="SurveillanceCamera" parent="." instance=ExtResource("6_tefeu")]
position = Vector2(830.469, 72.7179)

[node name="ExitTrigger" parent="." instance=ExtResource("5_tbgi4")]
z_index = 1
position = Vector2(1298.05, 975.58)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GrayscaleOverlay" type="ColorRect" parent="CanvasLayer"]
visible = false
material = SubResource("ShaderMaterial_tipki")
offset_left = -25.0
offset_top = -12.0
offset_right = 1952.0
offset_bottom = 1104.0

[node name="SurveillanceCamera2" parent="." instance=ExtResource("6_tefeu")]
position = Vector2(1268.03, 89.4375)
rotation = 0.359538

[node name="SurveillanceCamera3" parent="." instance=ExtResource("6_tefeu")]
position = Vector2(1349.43, 873.738)
rotation = 1.5708
